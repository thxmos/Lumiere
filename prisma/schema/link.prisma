model Link {
  id       String  @id @unique @default(uuid())
  url      String
  title    String
  imageUrl String?
  imageId  String?
  active   Boolean @default(true)

  index Int?

  clicks Int @default(0)

  createdAt DateTime  @default(now())
  updatedAt DateTime  @default(now()) @updatedAt
  deletedAt DateTime? // TODO:soft delete and archive data for user analytics?
  linkGroupId String
  linkGroup   LinkGroup @relation("linkGroupLinks", fields: [linkGroupId], references: [id], onDelete: Cascade)

  Click Click[]
}

model LinkGroup {
  id          String  @id @unique @default(uuid())
  title       String?  @default("New Link Group")
  description String? @db.VarChar(200)

  links Link[] @relation("linkGroupLinks")

  createdAt DateTime  @default(now())
  updatedAt DateTime  @default(now()) @updatedAt
  deletedAt DateTime?

  userId String
  user   User   @relation("UserLinkGroups", fields: [userId], references: [id])
}

